(()=>{"use strict";const t=-1e3,e=Math.abs(t)/1.8,o=3*Math.abs(t),a=document.querySelector("main"),r=document.querySelector(".loader"),l=document.querySelector("body"),s=document.querySelectorAll(".main-nav__item > a"),n=document.querySelector(".logo__span"),c=document.querySelector(".main-nav"),i=document.querySelector(".menu-button"),d=document.querySelector(".page-footer"),u=document.querySelector(".portfolio-list");let m=document.querySelectorAll(".frame-box"),y=m.length-1,p=m[y],f=[],h=0;function g(){const e=window.innerHeight,o=m.length*t/-5+e+1;l.style.setProperty("--z-depth",`${o}px`)}window.addEventListener("load",(function(){!function(){const t=window.matchMedia("(max-width: 768px)"),e=window.matchMedia("(orientation: portrait)");t.matches&&e.matches&&(document.querySelectorAll(".frame-box_portrait").forEach((t=>t.classList.add("frame-box"))),m=document.querySelectorAll(".frame-box"),y=m.length-1,p=m[y])}(),g();for(let e=0;e<m.length;e++)f.push(e*t);f[y]+=t,Draggable.create(u,{bounds:document.querySelector(".frame-box:last-of-type"),allowNativeTouchScrolling:!0,allowEventDefault:!0})}),{once:!0}),window.addEventListener("load",(function(){window.scrollTo(0,1),window.scrollTo(0,0),setTimeout((()=>{r.style.display="none",a.style.opacity=1}),1e3)}),{once:!0}),window.addEventListener("resize",g),window.addEventListener("scroll",(function(){let a=document.documentElement.scrollTop,r=h-a;h=a,m.forEach(((a,l)=>{let s=f[l]+=-5*r;const n=l===m.length-2,c=l===y,i=a.hasAttribute("data-masked-image"),d=s>=t,u=s>=0,h=f[y]>=-6500,g=s>=-6e3,v=s<=o,w=s<e&&g?1:0;a.style.opacity=n?1:w,g&&v||h?a.style.transform=`translateZ(${s}px)`:v?c&&!h?(p.style.opacity=0,a.style.transform="translateZ(-6500px)"):a.style.transform="translateZ(-6000px)":a.style.transform=`translateZ(${o}px)`,i&&d&&a.classList.add("frame-box_mask-active"),p&&u&&p.style.setProperty("--_text-opacity",1)}))}));const v={dataSectionNames:["data-portfolio-works","data-about","data-team","data-concepts","data-portfolio-gallery"],scrollToFrame(t){for(const e of this.dataSectionNames)t.hasAttribute(e)&&window.scrollTo(0,this.getTopScrollHeight(e))},getTopScrollHeight(e){for(let o=0;o<m.length;o++){const a=o===y;if(m[o].hasAttribute(e)){let e=o*Math.abs(t)/Math.abs(-5);return a?e+=Math.abs(t):e}}}};s.forEach((t=>{t.addEventListener("click",(()=>v.scrollToFrame(t)))}));const w={"--_clr-active":"var(--clr-bg-dark)","--_shadow-offest-active":0,"--_top-position-active":"50%","--before-rotate-angle":"225deg","--after-rotate-angle":"315deg",setActiveProperties(t){for(let e in this)t.style.setProperty(e,this[e])}};i.addEventListener("click",(function(t){n.classList.contains("logo__span_active")?(n.classList.toggle("logo__span_active"),d.removeAttribute("style"),c.removeAttribute("style"),i.removeAttribute("style")):(n.classList.toggle("logo__span_active"),d.style.setProperty("--footer-translateY-active",0),c.style.setProperty("--_nav-translateY-active",0),w.setActiveProperties(t.target))}))})();
