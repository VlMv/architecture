(()=>{"use strict";let t=document.querySelector("main"),e=document.querySelector(".loader");document.onreadystatechange=function(){"complete"===document.readyState&&(setTimeout((()=>{window.scrollTo(0,1),window.scrollTo(0,0)}),0),setTimeout((function(){e.style.display="none",t.style.opacity=1}),100))};let o=document.querySelectorAll(".frame-box");const a=document.querySelector("body"),l=-1e3;let n=[];function r(){let t=window.innerHeight,e=o.length*l/-5+t+1;a.style.setProperty("--z-depth",e+"px")}window.onload=function(){r(),function(){const t=window.matchMedia("(max-width: 768px)"),e=window.matchMedia("(orientation: portrait)");t.matches&&e.matches&&(document.querySelectorAll(".frame-box_portrait").forEach((function(t){t.classList.add("frame-box")})),o=document.querySelectorAll(".frame-box"))}();for(let t=0;t<o.length;t++)n.push(t*l);n[o.length-1]-=1e3,gsap.registerPlugin(InertiaPlugin);const t=document.querySelector(".portfolio-list"),e=document.querySelector(".frame-box:last-of-type");Draggable.create(t,{bounds:e,inertia:!0,allowNativeTouchScrolling:!0,allowEventDefault:!0})},window.onresize=function(){r()};let s=0;window.onscroll=function(){let t=document.documentElement.scrollTop,e=s-t;s=t,o.forEach((function(t,o,a){let r=a.length-1,s=o!==a.length-1,i=o!==a.length-2;n[o]+=-5*e;let c=n[o]<Math.abs(l)/1.8?1:0,d=`translateZ(${n[o]}px)`;s&&i?t.setAttribute("style",`transform: ${d}; opacity: ${c};`):t.setAttribute("style",`transform: ${d};`);let u=o===a.length-1,m=n[r]>=-6500,h=n[o]>=-6e3,f=n[o]<=3*Math.abs(l);u?m?t.classList.remove("hidden"):t.classList.add("hidden"):h&&f?t.classList.remove("hidden"):t.classList.add("hidden");let y=t.hasAttribute("data-masked-image"),g=n[o]>=l;y&&g&&t.classList.add("frame-box_mask-active");let p=a[r],b=n[o]>=0;p&&b&&p.style.setProperty("--_text-opacity",1)}))};const i=document.querySelectorAll(".main-nav__item > a");let c={dataNames:["data-portfolio-works","data-about","data-team","data-concepts","data-portfolio-gallery"],scrollToFrame:function(t){for(let e=0;e<this.dataNames.length;e++)t.hasAttribute(this.dataNames[e])&&window.scrollTo(0,this.getTopScrollHeight(this.dataNames[e]))},getTopScrollHeight:function(t){for(let e=0;e<o.length;e++){let a=e===o.length-1;if(o[e].hasAttribute(t)){let t=e*Math.abs(l)/Math.abs(-5);return a?t+=Math.abs(l):t}}}};i.forEach((function(t){t.onclick=function(){c.scrollToFrame(t)}}));const d=document.querySelector(".logo__span"),u=document.querySelector(".main-nav"),m=document.querySelector(".menu-button"),h=document.querySelector(".page-footer");let f={"--_clr-active":"var(--clr-bg-dark)","--_shadow-offest-active":0,"--_top-position-active":"50%","--before-rotate-angle":"225deg","--after-rotate-angle":"315deg",setActiveProperties:function(t){for(let e in this)t.style.setProperty(e,this[e])}};m.onclick=function(){d.classList.contains("logo__span_active")?(d.classList.remove("logo__span_active"),h.removeAttribute("style"),u.removeAttribute("style"),m.removeAttribute("style")):(d.classList.add("logo__span_active"),h.style.setProperty("--footer-translateY-active",0),u.style.setProperty("--_nav-translateY-active",0),f.setActiveProperties(m))}})();