(()=>{"use strict";const t=-1e3,e=Math.abs(t)/1.8,o=3*Math.abs(t),a=document.querySelector("main"),r=document.querySelector(".loader"),l=document.querySelector("body"),s=document.querySelectorAll(".main-nav__item > a"),n=document.querySelector(".logo__span"),c=document.querySelector(".main-nav"),i=document.querySelector(".menu-button"),d=document.querySelector(".page-footer");let u=document.querySelectorAll(".frame-box");const m=u.length-1,y=u[m];let p=[],f=0;function h(){const e=window.innerHeight,o=u.length*t/-5+e+1;l.style.setProperty("--z-depth",`${o}px`)}window.addEventListener("load",(function(){h(),function(){const t=window.matchMedia("(max-width: 768px)"),e=window.matchMedia("(orientation: portrait)");t.matches&&e.matches&&(document.querySelectorAll(".frame-box_portrait").forEach((t=>t.classList.add("frame-box"))),u=document.querySelectorAll(".frame-box"))}();const e=document.querySelector(".portfolio-list");for(let e=0;e<u.length;e++)p.push(e*t);p[m]+=t,Draggable.create(e,{bounds:y,allowNativeTouchScrolling:!0,allowEventDefault:!0})}),{once:!0}),window.addEventListener("load",(function(){window.scrollTo(0,1),window.scrollTo(0,0),setTimeout((()=>{r.style.display="none",a.style.opacity=1}),1e3)}),{once:!0}),window.addEventListener("resize",h),window.addEventListener("scroll",(function(){let a=document.documentElement.scrollTop,r=f-a;f=a,u.forEach(((a,l)=>{let s=p[l]+=-5*r;const n=l===u.length-2,c=a.hasAttribute("data-masked-image"),i=s>=t,d=s>=0,f=p[m]>=-6500,h=s>=-6e3,g=s<=o,v=s<e&&h?1:0;a.style.opacity=n?1:v,h&&g||f?a.style.transform=`translateZ(${s}px)`:g?f?a.style.transform="translateZ(-6000px)":(y.style.opacity=0,a.style.transform="translateZ(-6500px)"):a.style.transform=`translateZ(${o}px)`,c&&i&&a.classList.add("frame-box_mask-active"),y&&d&&y.style.setProperty("--_text-opacity",1)}))}));const g={dataSectionNames:["data-portfolio-works","data-about","data-team","data-concepts","data-portfolio-gallery"],scrollToFrame(t){for(const e of this.dataSectionNames)t.hasAttribute(e)&&window.scrollTo(0,this.getTopScrollHeight(e))},getTopScrollHeight(e){for(let o=0;o<u.length;o++){const a=o===m;if(u[o].hasAttribute(e)){let e=o*Math.abs(t)/Math.abs(-5);return a?e+=Math.abs(t):e}}}};s.forEach((t=>{t.addEventListener("click",(()=>g.scrollToFrame(t)))}));const v={"--_clr-active":"var(--clr-bg-dark)","--_shadow-offest-active":0,"--_top-position-active":"50%","--before-rotate-angle":"225deg","--after-rotate-angle":"315deg",setActiveProperties(t){for(let e in this)t.style.setProperty(e,this[e])}};i.addEventListener("click",(function(t){n.classList.contains("logo__span_active")?(n.classList.toggle("logo__span_active"),d.removeAttribute("style"),c.removeAttribute("style"),i.removeAttribute("style")):(n.classList.toggle("logo__span_active"),d.style.setProperty("--footer-translateY-active",0),c.style.setProperty("--_nav-translateY-active",0),v.setActiveProperties(t.target))}))})();
